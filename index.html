<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="full-screen" content="yes">
    <meta name="browsermode" content="application">
    <meta name="x5-orientation" content="landscape">
    <meta name="x5-fullscreen" content="true">
    <meta name="x5-page-mode" content="app">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <title>快来跟我 PK 小霸王游戏机，1秒找回童年！</title>
    <meta name="keywords" content="朋友圈在线小霸王游戏机，1秒找回童年 | 微信公众号：程序猿石头" />
    <meta name="description" content="来跟我 PK 小霸王游戏机，1秒找回童年！" />
    <link href="css/jsnes.css" rel="stylesheet" type="text/css" />
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?9a1fe830fc5d622ea2053e61aafcf19f";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</head>

<body>
    <audio style="display:none; height: 0" id="bg-music" preload="auto" src="bgm.mp3"></audio>
    <div class="main">
        <div class="panel">
            <div class="controller-area">
                <div class="controller">
                    <div id="controls-direction">
                        <button role="BUTTON_UP" class="up joydirection" id="joystick_btn_up">up</button>
                        <button role="BUTTON_RIGHT" class="right joydirection" id="joystick_btn_right">right</button>
                        <button role="BUTTON_DOWN" class="down joydirection" id="joystick_btn_down">down</button>
                        <button role="BUTTON_LEFT" class="left joydirection" id="joystick_btn_left">left</button>
                    </div>
                </div>
                <div class="a1-container"></div>
            </div>
            <div class="function-area">
                <div class="screen">
                    <div id="emulator" align="center" style="width:100%;"></div>
                </div>
                <div class="function">
                    <button class="controls-center-select joybtn" id="joystick_btn_select" role="BUTTON_SELECT">Select</button>
                    <button class="controls-center-start joybtn" id="joystick_btn_start" role="BUTTON_START">Pause</button>
                </div>
            </div>
            <div class="action-area">
                <div class="a2-container"></div>
                <div class="action">
                    <div id="controls-fire">
                        <button class="a joybtn" role="BUTTON_A" id="joystick_btn_A">A</button>
                        <button class="b joybtn" role="BUTTON_B" id="joystick_btn_B">B</button>
                    </div>
                </div>
            </div>
            <div class="sign">朋友圈 <br> 游戏机</div>
        </div>
    </div>
</body>
<script src="lib/jquery-1.4.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="lib/dynamicaudio-min.js" type="text/javascript" charset="utf-8"></script>
<script src="source/nes.js" type="text/javascript" charset="utf-8"></script>
<script src="source/utils.js" type="text/javascript" charset="utf-8"></script>
<script src="source/cpu.js" type="text/javascript" charset="utf-8"></script>
<script src="source/keyboard.js" type="text/javascript" charset="utf-8"></script>
<script src="source/mappers.js" type="text/javascript" charset="utf-8"></script>
<script src="source/papu.js" type="text/javascript" charset="utf-8"></script>
<script src="source/ppu.js" type="text/javascript" charset="utf-8"></script>
<script src="source/rom.js" type="text/javascript" charset="utf-8"></script>
<script src="source/ui.js" type="text/javascript" charset="utf-8"></script>
  <script>
	 $('.joy').click(function(){
		 console.log("欢迎关注微信公众号：程序猿石头")
	 })

    $(document).ready(function () {
        // 关闭背景音乐
        //autoPlayMusic();
        //audioAutoPlay();
    });

    function audioAutoPlay() {
        var audio = document.getElementById('bg-music');
        audio.play();
        document.addEventListener("WeixinJSBridgeReady", function () {
            audio.play();
        }, false);
    }
    // 音乐播放
    function autoPlayMusic() {
        // 自动播放音乐效果，解决浏览器或者APP自动播放问题
        function musicInBrowserHandler() {
            musicPlay(true);
            document.body.removeEventListener('touchstart', musicInBrowserHandler);
        }
        document.body.addEventListener('touchstart', musicInBrowserHandler);
        // 自动播放音乐效果，解决微信自动播放问题
        function musicInWeixinHandler() {
            musicPlay(true);
            document.addEventListener("WeixinJSBridgeReady", function () {
                musicPlay(true);
            }, false);
            document.removeEventListener('DOMContentLoaded', musicInWeixinHandler);
        }
        document.addEventListener('DOMContentLoaded', musicInWeixinHandler);
    }
    function musicPlay(isPlay) {
        var media = document.querySelector('#bg-music');
        if (isPlay && media.paused) {
            media.play();
        }
        if (!isPlay && !media.paused) {
            media.pause();
        }
    }

</script>
<script type="text/javascript" charset="utf-8">
    var nes;
    $(function() {
        nes = new JSNES({
            'ui': $('#emulator').JSNESUI({
                "超级玛丽": [
                    ['超级马里奥1 (W) Super Mario Bros. [!]', 'roms-new/(W) Super Mario Bros. [!].nes'],
                    ['超级马里奥2 (W) Super Mario Bros. 3 (U)', 'roms-new/Super Mario Bros. 3 (U) (PRG1) [!].nes'],
                    ['马里奥拆屋工 (W) Wrecking Crew [!]', 'roms-new/(W) Wrecking Crew [!].nes'],
                    ['马里奥医生 Dr. Mario (JU)', 'roms-new/Dr. Mario (JU).nes'],
                ],
                "魂斗罗": [
                    ['魂斗罗1(U)30', 'roms-new/Contra1(U)30.nes'],
                    ['魂斗罗1(U)30S', 'roms-new/Contra1(U)30S.nes'],
                    ['魂斗罗1(U)S', 'roms-new/Contra1(U)S.nes'],
                ],
                "经典": [
                    ['中国象棋', 'roms-new/Zhong Guo Xiang Qi.nes'],
                    ['沙罗曼蛇 (U) Life Force', 'roms-new/Life Force [!].nes'],
                    ['1943 (U) 1943 - The Battle of Midway', 'roms-new/1943.nes'],
                    ['功夫 (J) (V1.2) Yie Ar Kung-Fu [!]', 'roms-new/(J) (V1.2) Yie Ar Kung-Fu [!].nes'],
                    ['五子棋 (5) 日版', 'roms-new/5.nes'],

                ],
                "坦克": [
                    ['坦克 (Ch) Missile Tank', 'roms-new/(Ch) Missile Tank.nes'],
                    ['坦克 (Ch) Tank 1990', 'roms-new/(Ch) Tank 1990.nes'],
                    ['坦克 (J) Battle City', 'roms-new/(J) Battle City.nes'],
                ],
                "双截龙": [
                    ['双截龙1 Double Dragon1', 'roms-new/Double Dragon1.nes'],
                    ['双截龙2 Double Dragon2', 'roms-new/Double Dragon2.nes'],
                    ['双截龙3 Double Dragon3', 'roms-new/Double Dragon3.nes'],
                    ['双截龙4 Double Dragon4', 'roms-new/Double Dragon4.nes'],
                ],
                "淘金者": [
                    ['淘金者(汉化)', 'roms-new/TaoJinZhe.nes'],
                    ['淘金者(J)', 'roms-new/Championship Lode Runner (J).nes'],
                ],
                "俄罗斯方块": [
                    ['俄罗斯方块LJ65', 'roms-new/lj65.nes'],
                    ['俄罗斯方块Tetris(U)', 'roms-new/Tetris (U) [!].nes'],
                    ['俄罗斯方块Tetris 2(U)', 'roms-new/Tetris 2 (U) [!].nes'],
                ],
                "赛车": [
                    ['F1赛车 (J) F-1 Race [!]', 'roms-new/(J) F-1 Race [!].nes'],
                    ['摩托车大赛 (JU) (PRG0) Mach Rider [!]', 'roms-new/(JU) (PRG0) Mach Rider [!].nes'],
                    ['越野机车 (JU) Excitebike [!]', 'roms-new/(JU) Excitebike [!].nes'],
                    ['火箭车 (J) Road Fighter [!]', 'roms-new/(J) Road Fighter [!].nes'],
                ],
            })
        })
    });

 $(document).ready(function () {
    console.log("微信搜索：程序猿石头，回复”阿里内推“，急聘 P6、P7");
    window.nes.ui.romSelect.val('roms-new/(W) Super Mario Bros. [!].nes');
    window.nes.ui.loadROM();
  });
</script>
<!--[if IE]>
    <script type="text/vbscript" src="source/jsnes-ie-hacks.vbscript"></script>
<![endif]-->

</html>
